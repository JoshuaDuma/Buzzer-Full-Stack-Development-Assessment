{"version":3,"file":"static/js/806.95a87c36.chunk.js","mappings":"+NAGqBA,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GACnB,WAAYC,GAAQ,IAAD,yBACjB,cAAMA,IAwBRC,KAAO,CACH,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,OACA,MACA,MACA,OArCe,EAiDnBC,MAAQ,GAjDW,EAkDnBC,KAAO,EAhDL,EAAKC,MAAQ,CACXC,MAAO,KACPC,UAAU,EACVC,WAAY,EACZC,QAAS,IAGX,EAAKC,SAAW,EAAKA,SAASC,MAAd,WAChB,EAAKC,SAAW,EAAKA,SAASD,MAAd,WAVC,EA8HlB,OAnHA,gCAED,WACIE,KAAKV,OAASU,KAAKV,MACnBU,KAAKH,aACR,+BAED,WACIG,KAAKH,aACR,kCAED,cACC,wBAiBD,SAAWI,GACT,IACIC,EADAC,EAAQF,EAAKE,MAAM,KAKvB,OAHAD,EAAMC,EAAM,GACJH,KAAKX,KAAKe,SAASD,EAAM,IAAI,GAEtB,IAAMD,EAAM,KADpBC,EAAM,KAEd,sBAKD,WACE,IAAME,EAAOL,KACXM,MAAM,8CAAqDN,KAAKV,OAC/DiB,MACC,SAAUC,GACgB,MAApBA,EAASC,OAObD,EAASE,OAAOH,MAAK,SAAUI,GAC7BN,EAAKO,SAAS,CACZhB,QAASe,EAAKf,QACdD,WAAYgB,EAAKE,UATnBC,QAAQC,IAAI,gDACVP,EAASC,WAahBO,OAAM,SAAUC,GACfH,QAAQC,IAAI,kBAAmBE,QAEpC,oBAED,WAAU,IAAD,OACP,OACI,iBAAKC,UAAU,yBAAf,WACI,gBAAKA,UAAU,UAAf,2BAGA,gBAAIA,UAAU,8BAAd,UAEIlB,KAAKR,MAAMI,QAAQuB,KAAI,SAAAC,GAAE,OACrB,eAAIF,UAAU,kBAAd,UACI,iBAAKA,UAAU,MAAf,WACI,gBAAKA,UAAU,QAAf,UACA,SAAC,KAAD,CAAMG,GAAI,SAAWD,EAAGE,KAAO,YAA/B,UAA4C,gBAAKC,OAAO,OAAOC,MAAM,OAAOC,IAAKL,EAAGM,YAAaR,UAAU,kDAE3G,iBAAKA,UAAU,SAAf,WACI,SAAC,KAAD,CAAMG,GAAI,SAAWD,EAAGE,KAAO,YAAaJ,UAAU,6CAAtD,SAAoGE,EAAGE,QACvG,iCACO,EAAKK,WAAWP,EAAGQ,iBAE1B,cAAGV,UAAU,YAAb,SAA0BE,EAAGS,gBAC7B,gBAAKX,UAAU,sDAAf,UACI,gBAAKA,UAAU,MAAf,UACI,UAAC,KAAD,CAAMG,GAAI,SAAWD,EAAGE,KAAO,YAAaJ,UAAU,uCAAtD,WAA6F,cAAGA,UAAU,iBAA1G,IAA+HE,EAAGU,oBAbjHV,EAAGW,QAsBhD/B,KAAKR,MAAMI,QAAQoC,OAAShC,KAAKR,MAAMG,aAEvC,0BACI,mBAAQuB,UAAU,gCAAgCe,QAASjC,KAAKD,SAAhE,yBAMJC,KAAKR,MAAMI,QAAQoC,QAAUhC,KAAKR,MAAMG,aAExC,gBAAKuB,UAAU,+BAAf,oCAOT,EA/HkB/B,CAAa+C,EAAAA","sources":["components/feed.js"],"sourcesContent":["import React from 'react';\nimport { Route, Routes, Link, BrowserRouter } from 'react-router-dom';\n\nexport default class feed extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      totalPosts: 0,\n      results: [] \n    };\n\n    this.loadFeed = this.loadFeed.bind(this);\n    this.loadMore = this.loadMore.bind(this);\n  }\n\n  loadMore(){\n      this.limit += this.limit\n      this.loadFeed()\n  }\n\n  componentDidMount() {\n      this.loadFeed()\n  }\n\n  componentWillUnmount() { \n  }\n\n  mtoM = [\n      'Jan',\n      'Feb',\n      'Mar',\n      'Apr',\n      'May',\n      'June',\n      'July',\n      'Aug',\n      'Sept',\n      'Oct',\n      'Nov',\n      'Dec'\n  ]\n\n  modifydate(date){\n    var split = date.split(\"/\")\n    var day, month, year\n    day = split[0]\n    month = this.mtoM[parseInt(split[1])-1]\n    year = split[2]\n    return month + \" \" + day + \", \" + year\n  }\n\n  limit = 25\n  page = 1\n\n  loadFeed(){\n    const that = this;\n      fetch('https://buzzerapi.joshuaduma.ca/feed?' + 'limit=' + this.limit)\n      .then(\n        function (response) {\n          if (response.status !== 200) {\n            console.log('Looks like there was a problem. Status Code: ' +\n              response.status);\n            return;\n          }\n  \n          // Examine the text in the response\n          response.json().then(function (data) {\n            that.setState({\n              results: data.results,\n              totalPosts: data.hits\n            });\n          });\n        }\n      )\n      .catch(function (err) {\n        console.log('Fetch Error :-S', err);\n      });\n  }\n\n  render() {\n    return(\n        <div className=\"container border-right\">\n            <div className=\"mb-2 h4\">\n                Recent Posts\n            </div>\n            <ul className=\"list-group list-group-flush\">\n            {\n                this.state.results.map(el =>\n                    <li className=\"list-group-item\" key={el._id}>\n                        <div className=\"row\">\n                            <div className=\"col-2\">\n                            <Link to={\"/user/\" + el.name + \"?limit=25\"}><img height=\"50px\" width=\"75px\" src={el.profile_pic} className=\"img-fluid rounded-circle float-start p-2\" /></Link>\n                            </div>\n                            <div className=\"col-10\">\n                                <Link to={\"/user/\" + el.name + \"?limit=25\"} className=\"fw-bold h5 card-title p-0 m-0 btn btn-none\">{el.name}</Link>\n                                <span>\n                                    - {this.modifydate(el.date_posted)}\n                                </span>\n                                <p className=\"card-text\">{el.post_content}</p>\n                                <div className=\"row row-cols-2 row-cols-lg-2 g-2 g-lg-3 clear-float\">\n                                    <div className=\"col\">\n                                        <Link to={\"/user/\" + el.name + \"?limit=25\"} className=\"p-0 btn btn-none text-muted disabled\"><i className=\"far fa-heart\"></i> {el.likes}</Link>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                )\n            }\n            {\n            this.state.results.length < this.state.totalPosts\n            &&\n            <div>\n                <button className='w-100 btn btn-outline-primary' onClick={this.loadMore}>\n                    Load More\n                </button>\n            </div>\n            }\n            {\n            this.state.results.length >= this.state.totalPosts\n            &&\n            <div className=\" mt-3 text-center text-muted\">\n                End of posts\n            </div>\n            }\n            </ul>\n        </div>\n    )\n  }\n}"],"names":["feed","props","mtoM","limit","page","state","error","isLoaded","totalPosts","results","loadFeed","bind","loadMore","this","date","day","split","parseInt","that","fetch","then","response","status","json","data","setState","hits","console","log","catch","err","className","map","el","to","name","height","width","src","profile_pic","modifydate","date_posted","post_content","likes","_id","length","onClick","React"],"sourceRoot":""}