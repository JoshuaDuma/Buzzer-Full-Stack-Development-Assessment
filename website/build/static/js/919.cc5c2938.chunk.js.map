{"version":3,"file":"static/js/919.cc5c2938.chunk.js","mappings":"+NAIqBA,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GACnB,WAAYC,GAAQ,IAAD,yBACjB,cAAMA,IA8BRC,KAAO,CACH,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,OACA,MACA,MACA,OA3Ce,EAuDnBC,MAAQ,GAvDW,EAwDnBC,KAAO,EArDL,EAAKC,MAAQ,CACXC,MAAO,KACPC,UAAU,EACVC,QAAS,GACTC,WAAY,EACZC,OAAQC,OAAOC,SAASC,SAASC,MAAM,KAAK,IAG9C,EAAKC,SAAW,EAAKA,SAASC,MAAd,WAChB,EAAKC,SAAW,EAAKA,SAASD,MAAd,WAZC,EAoIlB,OAvHA,gCAED,WACIE,KAAKf,OAASe,KAAKf,MACnBe,KAAKH,aACR,+BAED,WACIG,KAAKC,SAAS,CACZT,OAAQC,OAAOC,SAASC,SAASC,MAAM,KAAK,KAE9CI,KAAKH,aACR,kCAED,cAEC,wBAiBD,SAAWK,GACT,IACIC,EADAP,EAAQM,EAAKN,MAAM,KAKvB,OAHAO,EAAMP,EAAM,GACJI,KAAKhB,KAAKoB,SAASR,EAAM,IAAI,GAEtB,IAAMO,EAAM,KADpBP,EAAM,KAEd,sBAKD,WACE,IAAMS,EAAOL,KACXM,MAAM,wCAA0CN,KAAKb,MAAMK,OAAS,UAAYQ,KAAKf,OACpFsB,MACC,SAAUC,GACgB,MAApBA,EAASC,OAObD,EAASE,OAAOH,MAAK,SAAUI,GAC7BN,EAAKJ,SAAS,CACZX,QAASqB,EAAKrB,QACdC,WAAYoB,EAAKC,UATnBC,QAAQC,IAAI,gDACVN,EAASC,WAahBM,OAAM,SAAUC,GACfH,QAAQC,IAAI,kBAAmBE,QAEpC,oBAED,WAAU,IAAD,OACP,OACI,iBAAKC,UAAU,yBAAf,WACI,gBAAKA,UAAU,UAAf,2BAGA,gBAAIA,UAAU,8BAAd,UAEIjB,KAAKb,MAAMG,QAAQ4B,KAAI,SAAAC,GAAE,OACrB,eAAIF,UAAU,kBAAd,UACI,iBAAKA,UAAU,MAAf,WACI,gBAAKA,UAAU,QAAf,UACA,SAAC,KAAD,CAAMG,GAAI,SAAWD,EAAGE,KAAO,YAA/B,UAA4C,gBAAKC,OAAO,OAAOC,MAAM,OAAOC,IAAKL,EAAGM,YAAaR,UAAU,uCAE3G,iBAAKA,UAAU,SAAf,WACI,SAAC,KAAD,CAAMG,GAAI,SAAWD,EAAGE,KAAO,YAAaJ,UAAU,6CAAtD,SAAoGE,EAAGE,QACvG,iCACO,EAAKK,WAAWP,EAAGQ,iBAE1B,cAAGV,UAAU,YAAb,SAA0BE,EAAGS,gBAC7B,gBAAKX,UAAU,sDAAf,UACI,gBAAKA,UAAU,MAAf,UACI,UAAC,KAAD,CAAMG,GAAI,SAAWD,EAAGE,KAAO,YAAaJ,UAAU,uCAAtD,WAA6F,cAAGA,UAAU,iBAA1G,IAA+HE,EAAGU,oBAbjHV,EAAGW,QAsBhD9B,KAAKb,MAAMG,QAAQyC,OAAS/B,KAAKb,MAAMI,aAEvC,0BACI,mBAAQ0B,UAAU,gCAAgCe,QAAShC,KAAKD,SAAhE,yBAMJC,KAAKb,MAAMG,QAAQyC,QAAU/B,KAAKb,MAAMI,aAExC,gBAAK0B,UAAU,+BAAf,oCAOT,EArIkBnC,CAAkBmD,EAAAA","sources":["components/user_page.js"],"sourcesContent":["import React from 'react';\nimport { Route, Routes, Link, BrowserRouter } from 'react-router-dom';\nimport { useSearchParams } from \"react-router-dom\";\n\nexport default class user_page extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      error: null,\n      isLoaded: false,\n      results: [],\n      totalPosts: 0,\n      userId: window.location.pathname.split(\"/\")[2]\n    };\n\n    this.loadFeed = this.loadFeed.bind(this);\n    this.loadMore = this.loadMore.bind(this);\n  }\n\n  loadMore(){\n      this.limit += this.limit\n      this.loadFeed()\n  }\n\n  componentDidMount() {\n      this.setState({\n        userId: window.location.pathname.split(\"/\")[2]\n      });\n      this.loadFeed()\n  }\n\n  componentWillUnmount() {\n\n  }\n\n  mtoM = [\n      'Jan',\n      'Feb',\n      'Mar',\n      'Apr',\n      'May',\n      'June',\n      'July',\n      'Aug',\n      'Sept',\n      'Oct',\n      'Nov',\n      'Dec'\n  ]\n\n  modifydate(date){\n    var split = date.split(\"/\")\n    var day, month, year\n    day = split[0]\n    month = this.mtoM[parseInt(split[1])-1]\n    year = split[2]\n    return month + \" \" + day + \", \" + year\n  }\n\n  limit = 25\n  page = 1\n\n  loadFeed(){\n    const that = this;\n      fetch('https://buzzerapi.joshuaduma.ca/user/' + this.state.userId + '?limit=' + this.limit)\n      .then(\n        function (response) {\n          if (response.status !== 200) {\n            console.log('Looks like there was a problem. Status Code: ' +\n              response.status);\n            return;\n          }\n  \n          // Examine the text in the response\n          response.json().then(function (data) {\n            that.setState({\n              results: data.results,\n              totalPosts: data.hits\n            });\n          });\n        }\n      )\n      .catch(function (err) {\n        console.log('Fetch Error :-S', err);\n      });\n  }\n\n  render() {\n    return(\n        <div className=\"container border-right\">\n            <div className=\"mb-2 h4\">\n                Recent Posts\n            </div>\n            <ul className=\"list-group list-group-flush\">\n            {\n                this.state.results.map(el =>\n                    <li className=\"list-group-item\" key={el._id}>\n                        <div className=\"row\">\n                            <div className=\"col-2\">\n                            <Link to={\"/user/\" + el.name + \"?limit=25\"}><img height=\"auto\" width=\"100%\" src={el.profile_pic} className=\"img-fluid rounded-circle mt-2\" /></Link>\n                            </div>\n                            <div className=\"col-10\">\n                                <Link to={\"/user/\" + el.name + \"?limit=25\"} className=\"fw-bold h5 card-title p-0 m-0 btn btn-none\">{el.name}</Link>\n                                <span>\n                                    - {this.modifydate(el.date_posted)}\n                                </span>\n                                <p className=\"card-text\">{el.post_content}</p>\n                                <div className=\"row row-cols-2 row-cols-lg-2 g-2 g-lg-3 clear-float\">\n                                    <div className=\"col\">\n                                        <Link to={\"/user/\" + el.name + \"?limit=25\"} className=\"p-0 btn btn-none text-muted disabled\"><i className=\"far fa-heart\"></i> {el.likes}</Link>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </li>\n                )\n            }\n            {\n            this.state.results.length < this.state.totalPosts\n            &&\n            <div>\n                <button className='w-100 btn btn-outline-primary' onClick={this.loadMore}>\n                    Load More\n                </button>\n            </div>\n            }\n            {\n            this.state.results.length >= this.state.totalPosts\n            &&\n            <div className=\" mt-3 text-center text-muted\">\n                End of posts\n            </div>\n            }\n            </ul>\n        </div>\n    )\n  }\n}"],"names":["user_page","props","mtoM","limit","page","state","error","isLoaded","results","totalPosts","userId","window","location","pathname","split","loadFeed","bind","loadMore","this","setState","date","day","parseInt","that","fetch","then","response","status","json","data","hits","console","log","catch","err","className","map","el","to","name","height","width","src","profile_pic","modifydate","date_posted","post_content","likes","_id","length","onClick","React"],"sourceRoot":""}